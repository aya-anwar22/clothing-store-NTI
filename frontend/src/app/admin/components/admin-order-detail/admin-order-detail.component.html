<div class="container mt-4" *ngIf="order">
  <h2>Order Details</h2>
  <p><strong>User:</strong> {{ order.userId?.userName || 'Unknown' }} ({{ order.userId?.email }})</p>
  <p><strong>Status:</strong> {{ order.status }}</p>
  <p><strong>Payment Method:</strong> {{ order.paymentMethod }}</p>
  <p><strong>Placed At:</strong> {{ order.placedAt | date:'medium' }}</p>

  <h4>Items:</h4>
  <ul>
    <li *ngFor="let item of order.items">
      {{ item.productId?.productName || 'Deleted Product' }} - Quantity: {{ item.quantity }} - Price: {{ item.priceAtOrderTime }} EGP
    </li>
  </ul>

  <div class="mb-3">
    <label for="statusSelect" class="form-label">Update Status</label>
    <select [(ngModel)]="selectedStatus" class="form-select" id="statusSelect">
      <option value="preparing">Preparing</option>
      <option value="shipped">Shipped</option>
      <option value="delivered">Delivered</option>
      <option value="cancelled">Cancelled</option>
    </select>
    <button class="btn btn-success mt-2" (click)="updateStatus()">Update Status</button>
  </div>
</div>
