<div class="main-content-wrapper">
  <div class="main-content">
    <div class="container brand-management-container">
      <!-- Header Section -->
      <div class="brand-header">
        <h2 class="brand-title">{{ isEdit ? 'Update' : 'Create' }} Brand</h2>
        <button class="btn view-toggle-btn" (click)="toggleDeletedView()">
          {{ isDeletedView ? 'Show Active Brands' : 'Show Deleted Brands' }}
        </button>
      </div>

      <!-- Brand Form -->
      <form [formGroup]="form" (ngSubmit)="submitForm()" enctype="multipart/form-data" class="brand-form">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">Brand Name</label>
            <input type="text" formControlName="brandName" class="form-control" placeholder="Enter brand name" />
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label">Brand Image</label>
            <input type="file" (change)="handleImageChange($event)" class="form-control" />
          </div>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">{{ isEdit ? 'Update' : 'Create' }}</button>
          <button type="button" class="btn btn-outline-secondary" (click)="resetForm()">Cancel</button>
        </div>
      </form>

      <!-- Brands Grid -->
      <div class="brands-grid">
        <div class="row">
          <div class="col-md-4 mb-4" *ngFor="let brand of brands">
            <div class="brand-card">
              <img [src]="brand.brandImage" class="brand-image" [alt]="brand.brandName" />
              <div class="brand-details">
                <h5 class="brand-name">{{ brand.brandName }}</h5>
                <p class="brand-slug">Slug: {{ brand.brandSlug }}</p>
                <div class="brand-actions">
                  <button *ngIf="!isDeletedView" class="btn btn-edit" (click)="editBrand(brand)">
                    Edit
                  </button>
                  <button *ngIf="!isDeletedView" class="btn btn-delete" (click)="deleteBrand(brand._id)">
                    Delete
                  </button>
                  <button *ngIf="isDeletedView" class="btn btn-restore" (click)="restoreBrand(brand._id)">
                    Restore
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <nav class="brand-pagination" *ngIf="totalPages > 1">
        <ul class="pagination">
          <li class="page-item" [class.disabled]="page === 1">
            <button class="page-link" (click)="goToPage(page - 1)">
              <i class="bi bi-chevron-left"></i>
            </button>
          </li>
          <li class="page-item" *ngFor="let p of [].constructor(totalPages); let i = index" 
              [class.active]="i + 1 === page">
            <button class="page-link" (click)="goToPage(i + 1)">{{ i + 1 }}</button>
          </li>
          <li class="page-item" [class.disabled]="page === totalPages">
            <button class="page-link" (click)="goToPage(page + 1)">
              <i class="bi bi-chevron-right"></i>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>